
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>2D RPG Web Game</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  user-select:none;
}

body{
  height:100vh;
  overflow:hidden;
  font-family:system-ui;
}

/* MAP */
#map{
  position:relative;
  width:100%;
  height:100%;
  background:#e7c56f; /* m√†u ƒë·∫•t */
}

/* PLAYER CHUNG */
.player{
  position:absolute;
  width:96px;
  height:96px;
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  transform: translate(-50%, -50%);
}

/* T√äN */
.name{
  position:absolute;
  top:-18px;
  width:100%;
  text-align:center;
  font-size:12px;
  color:#000;
  font-weight:bold;
}

/* TOP BAR */
#topbar{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:48px;
  background:rgba(0,0,0,.5);
  color:white;
  display:flex;
  align-items:center;
  padding:0 10px;
  z-index:10;
}
.player{
  position:absolute;
  width:96px;
  height:96px;
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  transform: translate(-50%, -50%);
}

.walking{
  animation: walk 0.4s infinite;
}

@keyframes walk{
  0%{ transform:translate(-50%,-50%) scale(1); }
  50%{ transform:translate(-50%,-50%) scale(1.05); }
  100%{ transform:translate(-50%,-50%) scale(1); }
}

</style>
</head>

<body>

<div id="map">

  <div id="topbar">
    RINPRO Lv.5 | ‚ù§Ô∏è 127% | üíé 0 | ü™ô 257
  </div>

  <!-- PLAYER CH√çNH -->
  <div class="player" id="player"
       style="left:50%;top:60%;
              background-image:url('/img/char1.png')">
    <div class="name">ÊòéÈáç</div>
  </div>

  <!-- NPC -->
  <div class="player"
       style="left:30%;top:65%;
              background-image:url('/img/char2.png')">
    <div class="name">NPC 1</div>
  </div>

  <div class="player"
       style="left:70%;top:65%;
              background-image:url('/img/char3.png')">
    <div class="name">NPC 2</div>
  </div>

</div>

<script>
const player = document.getElementById("player");

let x = player.offsetLeft;
let y = player.offsetTop;
const speed = 5;

const keys = {
  up:false,
  down:false,
  left:false,
  right:false
};

// B·∫ÆT PH√çM
document.addEventListener("keydown", e=>{
  if(e.key === "ArrowUp" || e.key === "w") keys.up = true;
  if(e.key === "ArrowDown" || e.key === "s") keys.down = true;
  if(e.key === "ArrowLeft" || e.key === "a") keys.left = true;
  if(e.key === "ArrowRight" || e.key === "d") keys.right = true;
});

document.addEventListener("keyup", e=>{
  if(e.key === "ArrowUp" || e.key === "w") keys.up = false;
  if(e.key === "ArrowDown" || e.key === "s") keys.down = false;
  if(e.key === "ArrowLeft" || e.key === "a") keys.left = false;
  if(e.key === "ArrowRight" || e.key === "d") keys.right = false;
});

function gameLoop(){
  let moving = false;

  if(keys.up){
    y -= speed;
    moving = true;
  }
  if(keys.down){
    y += speed;
    moving = true;
  }
  if(keys.left){
    x -= speed;
    moving = true;
  }
  if(keys.right){
    x += speed;
    moving = true;
  }

  player.style.left = x + "px";
  player.style.top  = y + "px";

  if(moving){
    player.classList.add("walking");
  }else{
    player.classList.remove("walking");
  }

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>



</body>
</html>
